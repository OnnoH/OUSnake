<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"canvas.js.html":{"id":"canvas.js.html","title":"Source: canvas.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: canvas.js /** * @class Canvas * @desc Create a Canvas object. * @param {object} canvas object with canvas element from HTML. * @returns Canvas the object the game is drawn on. * @see Element */ function Canvas(canvas) { // private constants const _RADIUS = 10; // pixel radius of an element const _GOOD = &quot;LawnGreen&quot; // good text style/color const _BAD = &quot;OrangeRed&quot; // bad text style/color const _NORMAL = &quot;White&quot; // normal text style/color const _FONT = &quot;Comic Sans MS&quot; // if you can call this a font... // private properties var _canvas = canvas; // the canvas var _height = _canvas[0].height; // canvas height var _width = _canvas[0].width; // canvas width var _step = _RADIUS * 2; // pixel size of a step var _xmax = Math.floor(_width / _step) - 1; // maximum x value var _ymax = Math.floor(_height / _step) - 1; // maximum y value /** * @private * @desc Draw an element on the canvas * @param {Element} element The element object to be drawn. */ function _drawElement(element) { _canvas.drawArc({ draggable : false, fillStyle : element.color, x : element.x * _step + _RADIUS, y : element.y * _step + _RADIUS, radius : _RADIUS }); } /** * @private * @desc Draw a line of text on the canvas in the given color. * @param {string} line The text to be drawn. * @param {string} style The style and color of the text. * @param {number} style line number of the text (up to 3). */ function _drawText(line, style, lineNumber) { // get the context from canvas. var context = _canvas[0].getContext(&quot;2d&quot;); context.textAlign = &quot;center&quot;; context.fillStyle = style; // determine how to draw the text. switch(style) { case _GOOD: context.font = 50 + &quot;px &quot; + _FONT; break; case _BAD: context.font = 50 + &quot;px &quot; + _FONT; break; case _NORMAL: context.font = 24 + &quot;px &quot; + _FONT; break; } // draw the text. context.fillText(line, _width / 2, _height / 6 * (3 + lineNumber)); } /** * @private * @desc Draw the elements and texts given. * @param {[object]} elements array of elements to be drawn. * @param {[[string, string]]} texts array of [text, style] to be drawn. */ function _draw(elements, texts) { // clear canvas _canvas.clearCanvas(); // draw all elements elements.forEach(function(element) { _drawElement(element); }); // draw text texts.forEach(function(line) { _drawText(line[0], line[1], texts.indexOf(line)); }); } /** * @public * @desc Canvas object which is returned. * @member {Object} */ return { // public constants GOOD: _GOOD, BAD: _BAD, NORMAL: _NORMAL, // public properties xmax : _xmax, ymax : _ymax, // public functions draw: _draw, clear: function() { _canvas.clearCanvas(); } }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"element.js.html":{"id":"element.js.html","title":"Source: element.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: element.js /** * @class Element * @desc Create an Element object. * * This class is a generalization for the snake and food elements. * @param {number} x center x-coordinate * @param {number} y center y-coordinate * @param {string} color element color * @returns Element */ function Element(x, y, color) { // private properties var _x = x; var _y = y; var _color = color; /** * @function * @desc Checks if an element exists based on x- and y-coordinates. * * Returns present (true) or not present (false) * @param {array} elements Array with elements * @returns {boolean} Present (true) or not present (false) */ function _isPresent(elements) { return (_indexOf(elements) &gt;= 0); } /** * @function * @desc Checks if an element exists based on x- and y-coordinates. * * Returns the index of the found element or -1 if it does not exists. * @param {array} elements Array with elements * @returns {number} The index of the element if found or -1 if not */ function _indexOf(elements) { var i = 0; // iterator var result = - 1; // result while (i &lt; elements.length) { if (elements[i].x === _x &amp;&amp; elements[i].y === _y) { result = i; i = elements.length; // found } i++; } return result; } /** * @public * @desc Element object which is returned. * @member {Object} */ return { // Return the index of the element in the given collection or -1 if it doesn't exist indexOf: function(elements) { return _indexOf(elements); }, // Return presence of element (true) or not (false) in collection isPresent: function(elements) { return _isPresent(elements); }, // Return the coordinates and color x: _x, y: _y, color: _color }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"food.js.html":{"id":"food.js.html","title":"Source: food.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: food.js /** * @class Food * @desc Create a food collection object. * @returns Food * @see Element */ function Food() { // private constants const _FOOD = &quot;Olive&quot;; // food color // private properties var _segments = []; // food segments /** * @private * @desc Removes the food segment on the given x- and y-coordinates if present. * @param {object} element The eater, e.g. the snake's head */ function _remove (element) { _segments.splice(element.indexOf(_segments), 1); } /** * @private * @desc Creates a food segment on the given x- and y-coordinates. * @param {object} element The food element */ function _add (element) { _segments.push(element); } /** * @private * @desc Checks if the given x- and y-coordinates are 'occupied'. * @param {object} element The element to be found in the food collection * @returns {boolean} Location is occupied (true) or not (false) */ function _collision (element) { return element.indexOf(_segments) &gt;= 0; } /** * @private * @desc Creates a new snake head on the given coordinates. * @param {number} x X-coordinate * @param {number} y Y-coordinate * @returns {Element} Element on given coordinates and color _FOOD. */ function _createNewFood(x, y) { return new Element(x, y, _FOOD); } /** * @public * @desc Food object which is returned. * @member {Object} */ return { // Create food element on given coordinates createNewFood: function(x, y) { return _createNewFood(x, y); }, // Add food element to the collection add: function(element) { _add(element); }, // Return the number of food elements left remaining: function() { return _segments.length; }, // Return the food elements getSegments: function() { return _segments; }, // Delete food element if eaten remove: function(element) { return _remove(element); }, // Checks if element is present in food collection collision: function(element) { return _collision(element); } }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"gameController.js.html":{"id":"gameController.js.html","title":"Source: gameController.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: gameController.js /** * @class GameController * @desc Create a game controller object. * @param {object} canvas The canvas used for this game. * @returns GameController * @see SnakeGameData * @see Snake * @see Food * @see Element */ function GameController(xmax, ymax) { // private constants const _GAMESPEED = 600; // base-speed of the game (ms per step) // private properties var _timer; // timer event var _snakeGameData; // snake controller var _level = 1; // current level. var _xmax = xmax var _ymax = ymax; // private methods /** * @private * @desc Initialize the start position of the game and begin (if not already running) */ function _start() { // initiate a new game if the game is not running if (!_snakeGameData) { _snakeGameData = new SnakeGameData(_xmax, _ymax, _level); // voor een move op elke gegeven interval _timer = setInterval(function() { if (_snakeGameData) { _snakeGameData.move(); } }, _GAMESPEED * Math.pow(0.8, _level)); // set game speed depending on level. console.log(&quot;Level &quot; + _level + &quot; started at speed &quot; + _GAMESPEED * Math.pow(0.8, _level)); } } /** * @private * @desc Stop the game and reset level (if the game is running) */ function _stop() { if (_snakeGameData) { clearInterval(_timer); _snakeGameData = null; } } /** * @private * @desc The user requested to stop the game so trigger an event */ function _stoppedByUser() { _stop(); $(document).trigger(new jQuery.Event(&quot;gameStoppedEvent&quot;, [])); } /** * @private * @desc The game is lost. Stop it! */ function _gameOver() { _stop(); _level = 1; } /** * @private * @desc The game is won. Stop it! */ function _gameWon() { _stop(); _level += 1; } /** * @private * @desc Go snake! In the given direction that is... * @param {object} event The event object containing the key pressed */ function _keyPressed(event) { if (_snakeGameData) { switch (event.which) { case 37: // left arrow _snakeGameData.setDirection(_snakeGameData.LEFT); break; case 38: // up arrow key _snakeGameData.setDirection(_snakeGameData.UP); break; case 39: // right arrow key _snakeGameData.setDirection(_snakeGameData.RIGHT); break; case 40: // down arrow key _snakeGameData.setDirection(_snakeGameData.DOWN); break; } } } /** * @public * @desc gameController object which is returned. * @member {Object} */ return { // public functions start: _start, stop: _stoppedByUser, gameOver: _gameOver, gameWon: _gameWon, keyPressed: _keyPressed, getLevel: function() { return _level; }, setLevel: function(level) { _level = level; } }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"snakeGame.js.html":{"id":"snakeGame.js.html","title":"Source: snakeGame.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: snakeGame.js /** * @module snake/view * @desc Provide interaction for the game. * @see GameController * @see Sound * @see Canvas */ require([&quot;gameController&quot;, &quot;food&quot;, &quot;element&quot;, &quot;sound&quot;, &quot;canvas&quot;, &quot;snake&quot;, &quot;snakeGameData&quot;], function() { console.log(&quot;All scripts are loaded.&quot;) var canvas = new Canvas($(&quot;#mySnakeCanvas&quot;)); var game = new GameController(canvas.xmax, canvas.ymax); // The game; var sound = new Sound(); console.log(&quot;The game is afoot!&quot;); /*************************************************************************** ** Game Button Events ** ***************************************************************************/ $(document).ready(function() { $(&quot;#startSnake&quot;).click(game.start); $(&quot;#stopSnake&quot;).click(game.stop); $('#toggleSound').click(sound.toggle); }); /*************************************************************************** ** Keyboard Events ** ***************************************************************************/ $(document).on(&quot;keydown&quot;, function() { game.keyPressed(event); }); /*************************************************************************** ** Custom Events ** ***************************************************************************/ $(document).on(&quot;gameOverEvent&quot;, function(event) { console.log(&quot;VERLOREN!!!&quot;); canvas.draw(event[0], [[&quot;Game Over&quot;, canvas.BAD], [&quot;You've reached level &quot; + game.getLevel(), canvas.NORMAL], [&quot;Press start to try to beat that&quot;, canvas.NORMAL]]) game.gameOver(); sound.play(sound.LOSE); $(&quot;#gameLevel&quot;).html(&quot;Level 1&quot;); }); $(document).on(&quot;gameWonEvent&quot;, function(event) { console.log(&quot;GEWONNEN!!!&quot;); game.gameWon(); sound.play(sound.WIN); canvas.draw(event[0], [[&quot;Well Done!&quot;, canvas.GOOD], [&quot;You reached level &quot; + game.getLevel(), canvas.NORMAL], [&quot;Press start to challenge it&quot;, canvas.NORMAL]]) $(&quot;#gameLevel&quot;).html(&quot;Level &quot; + game.getLevel()); }); $(document).on(&quot;gameMoveEvent&quot;, function(event) { sound.play(sound.MOVE); canvas.draw(event[0], []) }); $(document).on(&quot;gameStoppedEvent&quot;, function(event) { canvas.clear(); game.setLevel(1); $(&quot;#gameLevel&quot;).html(&quot;Level 1&quot;); }); $(document).on(&quot;gameEatEvent&quot;, function(event) { sound.play(sound.FOOD); canvas.draw(event[0], []) }); $(document).on(&quot;toggleSound&quot;, function(event) { $(&quot;#toggleSound&quot;).html('&lt;i class=&quot;fa fa-volume-' + (event[0] ? &quot;up&quot; : &quot;off&quot;) + ' fa-fw&quot;&gt;&lt;/i&gt;'); }); }); × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"snake.js.html":{"id":"snake.js.html","title":"Source: snake.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: snake.js /** * @class Snake * @desc Create a snake object. * @returns Snake * @see Element */ function Snake() { // private constants const _SNAKE = &quot;DarkRed&quot;; // color of the snake's body const _HEAD = &quot;DarkOrange&quot;; // color of the snake's head // private properties var _segments = []; // snake elements var _head; // head segment /** * @private * @desc Executes snake movement in the current direction. * @param {object} element containing the new head * @param {boolean} grow Indicates if the snake grows (e.g. because he has eaten food) */ function _move(element, grow) { // change the current head into a body part if (_head) { _head.color = _SNAKE; } // add a new head _segments.push(element); _head = _segments[_segments.length-1]; // remove the tail if the snake doesn't grow if (!grow) { _segments.shift(); } } /** * @private * @desc Checks if the given x- and y-coordinates are 'occupied'. * @param {number} x X-coordinate * @param {number} y Y-coordinate * @returns {boolean} Snake hits itself (true) or not (false) */ function _collision(x, y) { return _createNewHead(x, y).indexOf(_segments) &gt;= 0; } /** * @private * @desc Creates a new snake head on the given coordinates. * @param {number} x X-coordinate * @param {number} y Y-coordinate * @returns {Element} Element on given coordinates and color _HEAD. */ function _createNewHead (x, y) { return new Element(x, y, _HEAD); } /** * @public * @desc Snake object which is returned. * @member {Object} */ return { // Returns the head (final segment) getHead: function() { return _head; }, // Returns the new head element on the give coordinates getNewHead: function(x, y) { return _createNewHead(x, y); }, // Returns the snake's segments getSegments: function () { return _segments; }, // Move (and grow) the snake move: function(element, grow) { _move(element, grow); }, // Check if the snake collides with itself collision: function(x, y) { return _collision(x, y); } }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"snakeGameData.js.html":{"id":"snakeGameData.js.html","title":"Source: snakeGameData.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: snakeGameData.js /** * @class SnakeGameData * @desc Create a SnakeGameData object. * @param {number} xmax Maximum X-coordinate (canvas boundary) * @param {number} ymax Maximum Y-coordinate (canvas boundary) * @returns snakeGameData */ function SnakeGameData(xmax, ymax, level) { // constants to communicate key directions const _LEFT = &quot;left&quot;; const _RIGHT = &quot;right&quot;; const _UP = &quot;up&quot;; const _DOWN = &quot;down&quot;; // private constants const _STARTFOOD = 4; const _STARTLENGTH = 0; // private properties var _xmax = xmax; var _ymax = ymax; var _snake; // snake model var _food; // food model var _direction = _UP; // default direction in which the snake moves // initiate object on creation _init(level); // private methods /** * @private * @desc setup game with the given level. * @param {number} current level */ function _init(level) { _createSnake(_STARTLENGTH + 2 * level); _createFoods(_STARTFOOD + level); //trigger a draw event; var allElements = _food.getSegments().concat(_snake.getSegments()); $(document).trigger(new jQuery.Event(&quot;gameMoveEvent&quot;, [allElements])); } /** * @private * @desc Create the snake in the middle of the playing field */ function _createSnake(snakeLength) { _snake = new Snake(); var newHead; var x, y; for (var i = 0; i &lt; snakeLength; i++) { // Snake will &quot;coiled up it's tails&quot; when it doesn't fit. x = Math.round(_xmax / 2); y = Math.max((Math.round(_ymax / 2) + snakeLength - i), 0); newHead = _snake.getNewHead(x, y); _snake.move(newHead, true); } } /** * @private * @desc Create an array with random scattered food particles */ function _createFoods(numFoods) { _food = new Food(); var x, y; var foodElement; while (_food.remaining() &lt; numFoods ) { // create a new food element for the randomly chosen location x = Math.floor(Math.random() * (_xmax + 1)); y = Math.floor(Math.random() * (_ymax + 1)); foodElement = _food.createNewFood(x, y); // and add it to the array whan the location is not occupied if (!foodElement.isPresent(_snake.getSegments()) &amp;&amp; !foodElement.isPresent(_food.getSegments())) { _food.add(foodElement); } } } /** * @private * @desc Move the snake in the known direction */ function _move() { var allElements = []; // all elements to be passed to view var x = _snake.getHead().x; // next x coordinate var y = _snake.getHead().y; // next y coordinate // apply direction to coordinates switch(_direction) { case _LEFT: x = x - 1; break; case _RIGHT: x = x + 1; break; case _UP: y = y - 1; break; case _DOWN: y = y + 1; break; } // Can we make a move? if (_canMove(x, y)) { // Create a new head var newHead = _snake.getNewHead(x, y); //console.log(allElements); // Have we had lunch yet? var eaten = newHead.isPresent(_food.getSegments()); if (eaten) { _food.remove(newHead); _snake.move(newHead, eaten); allElements = _food.getSegments().concat(_snake.getSegments()); $(document).trigger(new jQuery.Event(&quot;gameEatEvent&quot;, [allElements])); console.log(&quot;munch&quot;); } else { _snake.move(newHead, eaten); allElements = _food.getSegments().concat(_snake.getSegments()); $(document).trigger(new jQuery.Event(&quot;gameMoveEvent&quot;, [allElements])); } if (_food.remaining() === 0) { $(document).trigger(new jQuery.Event(&quot;gameWonEvent&quot;, [allElements])); } } else { $(document).trigger(new jQuery.Event(&quot;gameOverEvent&quot;, [allElements])); } } /** * @private * @desc Check if the new coordinates are suitable to move to. * @param {number} x The new X-coordinate * @param {number} y The new Y-coordinate * @returns {boolean} The move can be made (true) or not (false) */ function _canMove(x, y) { var result = true; // check for wall collisions if (x &lt; 0 || x &gt; _xmax || y &lt; 0 || y &gt; _ymax) { console.log(&quot;Snake hit a wall&quot;); result = false; } // check for snake collisions if (_snake.collision(x, y)) { console.log(&quot;Snake hit itself&quot;); result = false; } return result; } /** * @public * @desc SnakeGameData object which is returned. * @member {Object} */ return { // public constants LEFT: _LEFT, RIGHT: _RIGHT, UP: _UP, DOWN: _DOWN, // public properties (read only) getFood: function() { return _food.getSegments(); }, getSnake: function() { return _snake.getSegments(); }, // public properties (write only) setDirection: function(direction) { _direction = direction; }, // public functions init: _init, move: _move, }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"sound.js.html":{"id":"sound.js.html","title":"Source: sound.js","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Source: sound.js /** * @class Sound * @desc Create a Sound object. * @returns Sound the object used to make sound. * @see Audio */ function Sound() { // private constants const _SOUND_PATH = &quot;snd/&quot;; // path where sounds are located const _SOUND_EXT = &quot;.wav&quot;; // file extension of sounds. const _MOVE = &quot;move&quot;; // the sound of moving. const _FOOD = &quot;food&quot;; // the sound of munching const _WIN = &quot;winner&quot;; // the sound of winning const _LOSE = &quot;loser&quot;; // the sound of losing const _SOUNDS = [_MOVE, _FOOD, _WIN, _LOSE]; // the gathering of sounds // private properties var _audio = {}; // collection of playable sounds var _playing = true; // sound is on or off. // initiate object on creation _init(); /** * @private * @desc initiate object by adding all the sounds to the library. */ function _init() { _SOUNDS.forEach(function(sound) { _audio[sound] = new Audio(); _audio[sound].src = _SOUND_PATH + sound + _SOUND_EXT; }); } /** * @private * @desc Plays the sound (if the player appreciates that) * @param {string} sound The sound to be played. */ function _play(sound) { if (_playing) { _audio[sound].play(); } } /** * @private * @desc Turns the sound on or off. */ function _toggle() { _playing = !_playing; $(document).trigger(new jQuery.Event(&quot;toggleSound&quot;, [_playing])); } /** * @public * @desc Sound object which is returned. * @member {Object} */ return { // public constants MOVE: _MOVE, FOOD: _FOOD, WIN: _WIN, LOSE: _LOSE, // public functions play: _play, toggle: _toggle, }; } × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Modules Classes Canvas Element Food GameController Snake SnakeGameData Sound × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Classes Classes Canvas Element Food GameController Snake SnakeGameData Sound × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"index.html":{"id":"index.html","title":"Index","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound IntroductionThis repository contains code for the Open University course: Webapplicaties: de clientkant (Web applications: the client side) The result: The Game Site or The Snake Game Collaborators: Aart Pelt (a.j.w.pelt@gmail.com) Onno Huijgen (o.huijgen@gmail.com) 1. Assignment 11.1 Main siteThis part focusses on the HTML and CSS bit. Layout:header : title of the websitecenter : an area with a border (arena) and a menu (nav) and iframe (gameFrame) withinfooter : copyright notice and last modification date Styling:Margins and paddings, colors and text attributes are explicitly named. This makes it easier to experiment with different styles. Before the site enters the production stage, it's possible to refactor some of the styles. Positioning:In order to create a responsive website relative measurements like em and % have been chosen.Also the 'arena'-elements are positioned in a floating manner. The website has been tested with the browsers Google Chrome and Safari on Apple OS X. 2. Assignment 2: Snake part OneThis part focusses on Javascript. In order to let the code be tested by the instructor the requirements have to be met precisely. The functions collidesWithOneOf and canMove/doMove are added as methods to Element and Snake respectively. In order to determine the new position of the snake's head the method Snake.createNewHead was added. This method is now called both in canMove as doMove. It would be better if canMove returned a segment (type Element) if movement is possible. The doMove modify the snake segments. An attempt was made to execute the tests from the command line using mocha/chai. Because of the difference in coding for the browser and coding for node, you would need something like browserify and a build system in place. Because this falls outside the scope of this course, tests are executed from a webpage. 3. Assignment 3: Snake part TwoIn this part refactoring the code into modules is needed. Separate the model from the view and controller. 3.1. ArchitectureThe application follows the MVC architecture pattern. View: The view is responsible DOM interaction (including canvas and sound) and events (buttons, keys and custom events).Model: The model is used to store data. They are ignorant to a wider context.Controller: The controller handles the responses to events by updating the model and/or the view. most modules are structured according to the &quot;object model pattern&quot; which is a specific form of the model pattern. It has a single object per module. As a result, the model, view and controller each contain several modules. 3.1.1. ViewsnakeGame acts as the view module. It handles the events and key input.Canvas and Sound are also part of the view. They are triggered using events.The dependencies between view, model and controller objects are kept to a minimum with 2 notable exceptions:1) The size of the playing fields is communicated to the controller upon initialisation of the view.2) Canvas depends on the Element object to be able to draw elements efficiently. Decision: It was decided to place the timer in the controller (gameController) rather then in the view (snakeGame). Although the ticking of the timer can be seen as an event, gameController fully encapsulates its function. It did not seem justified to move it out of gameController and there was little benefit to use events on timer ticks. Note: The use of text in the view is a bit clunky. This is an area of improvement. A configuration file to store the text and formatting would be ideal. This was not implemented due to time constraints. 3.1.2 ModelThe model is split up into one module per object.SnakeGameData is the main module. It contains Food and Snake and it offers a simple API to the gameController.Snake and Food are independent of each other. They only depend on element. 3.1.3 ControllergameController ties everything together. It provides a very generic API to the view which could be used for any game. It has a minimal awareness of the internal workings of the other modules, but enough to make it work together.A good example separation and game-awareness is the keyPressed functionality which translates key events from the view into directions for the model. Decision: It was decided to split off as much game specific functionality as possible and move it to snakeGameData to demonstrate the separation of generic and specific functionality. The goal is that the gameController API would support many different games. Level and timer considered generic and therefore part of the controller. Decision: It was decided to trigger sound and canvas functionality on events only to demonstrate the use of events. The alternative is to store the required objects in the controller and let the controller call the correct function based on information of the model. This approach would not require any events, but it is against the javascript MVC model principles. Decision: It was decided to change the sound icon my manipulating the HTML class rather then a attribute like &quot;active&quot;. This was not implemented due to priorities and time constraints. 3.2 GeneralDecision: It has been decided separate the playing grid from the pixel location. The X and Y coordinates used in the game refer to a grid number. The canvas module will determine how the grid needs to be drawn in pixels to fill the maximum canvas area. A rectangular canvas is also supported. Decision: It has been decided to pass elements instead of x-y-coordinates. This was discussed during the lecture as a suitable solution to preserve information between canMove and doMove. The use of x-y-coordinates would not allow for the generic function indexOf in the Elements object. Decision: It was decided to make the food and snake object very similar. Both are create as an empty object to which elements are added by the controller and both have a collision function. Decision: It was decided to use add a convention to let private attributes (constants, variables and functions) begin with an underscore. This ensures the developer is more contentious of the context and it result in errors due to switching between private and public are caught sooner. Note: The view has been updated with Font Awesome so the buttons now contain icons instead of text. Feature: Canvas Size. The canvas size can be changed to a rectangular (non-square) size. The game will adjust the size of the playing field and allow the snake to move over the entire field. 3.3 DocumentationThe code is annotated with JSdoc3. The generator is installed using node/npm. An extra module (docstrap) is added to allow the use of templates. Versions of node and npm are controlled by nvm. npm install -g jsdoc ink-docstrapIn order to configure the generator a JSON file snake.jsdoc.json is present.See: http://usejsdoc.org/about-configuring-jsdoc.html The documentation is generated with the following command: jsdoc --access all --verbose --configure snake.jsdoc.json --template ~/.nvm/versions/node/v8.9.3/lib/node_modules/ink-docstrap/template --readme README.md --destination docSee also: http://usejsdoc.org/about-commandline.html And can be accessed from here. TestingThe testing framework that is used is Mocha in combination with Chai. Due to the absence of a build system the tests are executed from the test page. TO DO Submit code to version control (git). Convert this readme to MarkDown syntax. Select IDE for development or can we live with Atom and Chrome (using debug tools)? =&gt; Atom/Chrome CSS height: 100% needs further examination. Trying to get a grip on relative measurements. It's possible some values need to be fixed. Resizing of the site is not yet optimal. Recruit team member Document CSS structure Solve CSS validation errors: replaced color names by color numbers (apparently not all browsers can handle these names) Fix HTML errors Are we using the English or Dutch language for documentation and comments. The course is in Dutch, but the code has English language elements and if you decide to release the code to an international public, the Dutch language might seem a little odd =&gt; English. Get JSlint to work Refactor test to mocha/chai framework Util tests are executed, but no output is shown. =&gt; deprecated Get rid of the iFrame and use jQuery to load/display html content. Add new game elements like: speed up/slow down/pause buttons, speed up automatically over time), add random walls or mole heaps, replace the food that's been eaten with new food (so the snake can grow even larger), move the remaining food to random locations, introduce superfood and some kind of scoring mechanism (with high scores table, but therefore we also need to identify the user). Make better use of the requireJS library. ... × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"Canvas.html":{"id":"Canvas.html","title":"Class: Canvas","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: Canvas Canvas new Canvas(canvas) Create a Canvas object. Parameters: Name Type Description canvas object object with canvas element from HTML. Source: canvas.js, line 1 See: Element Returns: Canvas the object the game is drawn on. Methods &lt;private, inner&gt; _draw(elements, texts) Draw the elements and texts given. Parameters: Name Type Description elements texts Source: canvas.js, line 76 &lt;private, inner&gt; _drawElement(element) Draw an element on the canvas Parameters: Name Type Description element Element The element object to be drawn. Source: canvas.js, line 30 &lt;private, inner&gt; _drawText(line, style, style) Draw a line of text on the canvas in the given color. Parameters: Name Type Description line string The text to be drawn. style string The style and color of the text. style number line number of the text (up to 3). Source: canvas.js, line 47 × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"Element.html":{"id":"Element.html","title":"Class: Element","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: Element Element new Element(x, y, color) Create an Element object. This class is a generalization for the snake and food elements. Parameters: Name Type Description x number center x-coordinate y number center y-coordinate color string element color Source: element.js, line 1 Returns: Element Methods &lt;inner&gt; _indexOf(elements) Checks if an element exists based on x- and y-coordinates. Returns the index of the found element or -1 if it does not exists. Parameters: Name Type Description elements array Array with elements Source: element.js, line 37 Returns: The index of the element if found or -1 if not Type number &lt;inner&gt; _isPresent(elements) Checks if an element exists based on x- and y-coordinates. Returns present (true) or not present (false) Parameters: Name Type Description elements array Array with elements Source: element.js, line 25 Returns: Present (true) or not present (false) Type boolean × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"Food.html":{"id":"Food.html","title":"Class: Food","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: Food Food new Food() Create a food collection object. Source: food.js, line 1 See: Element Returns: Food Methods &lt;private, inner&gt; _add(element) Creates a food segment on the given x- and y-coordinates. Parameters: Name Type Description element object The food element Source: food.js, line 28 &lt;private, inner&gt; _collision(element) Checks if the given x- and y-coordinates are 'occupied'. Parameters: Name Type Description element object The element to be found in the food collection Source: food.js, line 38 Returns: Location is occupied (true) or not (false) Type boolean &lt;private, inner&gt; _createNewFood(x, y) Creates a new snake head on the given coordinates. Parameters: Name Type Description x number X-coordinate y number Y-coordinate Source: food.js, line 49 Returns: Element on given coordinates and color _FOOD. Type Element &lt;private, inner&gt; _remove(element) Removes the food segment on the given x- and y-coordinates if present. Parameters: Name Type Description element object The eater, e.g. the snake's head Source: food.js, line 19 × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"GameController.html":{"id":"GameController.html","title":"Class: GameController","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: GameController GameController new GameController(canvas) Create a game controller object. Parameters: Name Type Description canvas object The canvas used for this game. Source: gameController.js, line 1 See: SnakeGameData Snake Food Element Returns: GameController Methods &lt;private, inner&gt; _gameOver() The game is lost. Stop it! Source: gameController.js, line 69 &lt;private, inner&gt; _gameWon() The game is won. Stop it! Source: gameController.js, line 78 &lt;private, inner&gt; _keyPressed(event) Go snake! In the given direction that is... Parameters: Name Type Description event object The event object containing the key pressed Source: gameController.js, line 88 &lt;private, inner&gt; _start() Initialize the start position of the game and begin (if not already running) Source: gameController.js, line 29 &lt;private, inner&gt; _stop() Stop the game and reset level (if the game is running) Source: gameController.js, line 49 &lt;private, inner&gt; _stoppedByUser() The user requested to stop the game so trigger an event Source: gameController.js, line 60 × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"module-snake_view.html":{"id":"module-snake_view.html","title":"Module: snake/view","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Module: snake/view Provide interaction for the game. Source: snakeGame.js, line 1 See: GameController Sound Canvas × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"Snake.html":{"id":"Snake.html","title":"Class: Snake","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: Snake Snake new Snake() Create a snake object. Source: snake.js, line 1 See: Element Returns: Snake Methods &lt;private, inner&gt; _collision(x, y) Checks if the given x- and y-coordinates are 'occupied'. Parameters: Name Type Description x number X-coordinate y number Y-coordinate Source: snake.js, line 45 Returns: Snake hits itself (true) or not (false) Type boolean &lt;private, inner&gt; _createNewHead(x, y) Creates a new snake head on the given coordinates. Parameters: Name Type Description x number X-coordinate y number Y-coordinate Source: snake.js, line 56 Returns: Element on given coordinates and color _HEAD. Type Element &lt;private, inner&gt; _move(element, grow) Executes snake movement in the current direction. Parameters: Name Type Description element object containing the new head grow boolean Indicates if the snake grows (e.g. because he has eaten food) Source: snake.js, line 22 × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"SnakeGameData.html":{"id":"SnakeGameData.html","title":"Class: SnakeGameData","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: SnakeGameData SnakeGameData new SnakeGameData(xmax, ymax) Create a SnakeGameData object. Parameters: Name Type Description xmax number Maximum X-coordinate (canvas boundary) ymax number Maximum Y-coordinate (canvas boundary) Source: snakeGameData.js, line 1 Returns: snakeGameData Methods &lt;private, inner&gt; _canMove(x, y) Check if the new coordinates are suitable to move to. Parameters: Name Type Description x number The new X-coordinate y number The new Y-coordinate Source: snakeGameData.js, line 146 Returns: The move can be made (true) or not (false) Type boolean &lt;private, inner&gt; _createFoods() Create an array with random scattered food particles Source: snakeGameData.js, line 68 &lt;private, inner&gt; _createSnake() Create the snake in the middle of the playing field Source: snakeGameData.js, line 49 &lt;private, inner&gt; _init(current) setup game with the given level. Parameters: Name Type Description current number level Source: snakeGameData.js, line 36 &lt;private, inner&gt; _move() Move the snake in the known direction Source: snakeGameData.js, line 89 × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "},"Sound.html":{"id":"Sound.html","title":"Class: Sound","body":" Snake Game Modules snake/view Classes CanvasElementFoodGameControllerSnakeSnakeGameDataSound Class: Sound Sound new Sound() Create a Sound object. Source: sound.js, line 1 See: Audio Returns: Sound the object used to make sound. Methods &lt;private, inner&gt; _init() initiate object by adding all the sounds to the library. Source: sound.js, line 30 &lt;private, inner&gt; _play(sound) Plays the sound (if the player appreciates that) Parameters: Name Type Description sound string The sound to be played. Source: sound.js, line 42 &lt;private, inner&gt; _toggle() Turns the sound on or off. Source: sound.js, line 52 × Search results Close This game is developed by Jaap Pelt and Onno Huijgen as part of an assignment for the Open University. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
